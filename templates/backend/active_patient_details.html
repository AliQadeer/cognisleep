{% extends "backend/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
    <div class="content-wrap">
        <div class="main">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-8 p-r-0 title-margin-right">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Patient Details</h1>
                                <button type="button" class="btn btn-primary mb-2 backbtn"
                                        onclick="javascript:history.back()" id="btn_search"><i class="fa fa-angle-left"
                                                                                               aria-hidden="true"></i>Back
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- /# column -->

                    <!-- /# column -->
                </div>
                <!-- /# row -->
                <div class="dashboard-wrapper">
                    <div id="w0" class="grid-view">
                        <ul class="nav nav-tabs mt-4">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tab1">Patient Profile</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab2">Patient sleep Diary</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab3">Patient Active Videos</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab4">Progress</a>
                            </li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div class="tab-pane container active" id="tab1">
                                <div class="container xs-w-100" style="width:70%;">
                                    <form class="form-horizontal" role="form" method="post"
                                          action="/patient_detail/{{ user_details.id }}">
                                        {% csrf_token %}
                                        <div class="row">

                                            <!-- edit form column -->
                                            <div class="col-md-12 personal-info pt-3 pb-3 xs-plr-0">
                                                <div class="form-group d-flex xs-d-block xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 col-12 control-label">First name:</label>
                                                    <div class="col-sm-8 col-12">
                                                        <input class="form-control" type="text"
                                                               value="{{ user_details.first_name }}" name="fname"
                                                               readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 col-12 control-label">Last name:</label>
                                                    <div class="col-sm-8 col-12">
                                                        <input class="form-control" type="text"
                                                               value="{{ user_details.last_name }}" name="lname"
                                                               readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 col-12 control-label">Email:</label>
                                                    <div class="col-sm-8 col-12">
                                                        <input class="form-control" type="text"
                                                               value="{{ user_details.email }}" name="emails"
                                                               readonly="">
                                                    </div>
                                                </div>


                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Package:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" type="text"
                                                               value="{{ user_details.package_no }}" style="" name=""
                                                               readonly="">
                                                    </div>
                                                </div>

                                                {% if messages %}
                                                    {% for message in messages %}
                                                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                                                    {% endfor %}
                                                {% endif %}

                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Password:</label>
                                                    <div class="col-sm-8">
                                                        <div class="password-container">
                                                            <div class="input-group show_hide_password">
                                                                <input class="form-control" type="password"
                                                                       id="password" name="password"
                                                                       value="{{ user_details.passwordstr }}">
                                                                <div class="input-group-addon">
                                                                    <a href=""><i class="fa fa-eye-slash"
                                                                                  aria-hidden="true"></i></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Confirm password:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control show_hide_password"
                                                               id="confirm_password"
                                                               name="confirm_password" type="password"
                                                               value="{{ user_details.passwordstr }}">
                                                    </div>
                                                </div>


                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Phone:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="contact" type="text"
                                                               value="{{ user_details.contact_no }}" readonly="">
                                                    </div>
                                                </div>
                                                <input type="hidden" id="uid" value="{{ user_details.id }}" name="uid">

                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label"></label>
                                                    <div class="col-sm-8">
                                                        <input type="submit" class="btn btn-primary" value="Update"
                                                               name="edit_user">
                                                        <span></span>
                                                        <input type="reset" class="btn btn-default" value="Cancel">
                                                    </div>
                                                </div>

                                            </div>

                                        </div>
                                    </form>


                                </div>
                            </div>
                            <!--Tab 1 ends here-->
                            <div class="tab-pane container fade" id="tab2">
                                <div class="container">
                                    <div id="responsivez" class="viewsleepdiary tabcontent" style="display:block;">
                                        <div class="col-sm-12 col-md-12 col-lg-12">

                                            <div class="row">

                                                <div class="col-xs-12 col-md-2">
                                                    <nav class="weeks">
                                                        <ul>

                                                            {% for x in weekDays_array %}
                                                                {% if x.is_selected == 1 %}

                                                                    <li class="activeWeek"
                                                                        style=" !important;width: calc(100% / );">
                                                                        <a class="getWeekData" href="javascript:void(0)"
                                                                           data-week="{{ x.x }}">
                                                                            <button id="weeks_id_1">
                                                                                {{ x.x }} Week
                                                                            </button>
                                                                        </a>
                                                                    </li>
                                                                {% else %}

                                                                    <li style="width: calc(100% / );background-color: rgb(32, 11, 148); ">
                                                                        <a class="getWeekData" href="javascript:void(0)"
                                                                           data-week="{{ x.x }}">
                                                                            <button id="weeks_id_1">
                                                                                {{ x.x }} Week
                                                                            </button>
                                                                        </a>
                                                                    </li>


                                                                {% endif %}

                                                            {% endfor %}

                                                        </ul>
                                                    </nav>

                                                </div>
                                                <div class="col-xs-12 col-md-10">

                                                    <div class="table-responsive" id="provider-table">
                                                        <table class="table">
                                                            <thead>
                                                            <tr>
                                                                <!--<th>Sno</th>-->
                                                                <th>Day</th>
                                                                <th>Date</th>
                                                                <th>Time went to bed</th>
                                                                <th>Time fell asleep</th>
                                                                <th>Time got up</th>
                                                                <th>Times awakend</th>
                                                                <th>Total time awakened</th>


                                                            </tr>


                                                            </thead>
                                                            <tbody>
                                                            {% for week in user_sleep_diarys %}
                                                                {% if week.is_updated %}
                                                                    <tr>
                                                                        <td>Day {{ forloop.counter }}</td>
                                                                        <td>{{ week.date|date:"d/m/Y" }}</td>
                                                                        <td>{{ week.time_went_to_bed }}</td>
                                                                        <td>{{ week.time_fell_asleep }}</td>
                                                                        <td>{{ week.time_got_up }}</td>
                                                                        <td>{{ week.no_of_times_awakend }}</td>
                                                                        <td>{{ week.total_time_awakened }}</td>
                                                                    </tr>
                                                                {% else %}
                                                                    <tr class="noupdated">
                                                                        <td>Day {{ forloop.counter }}</td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                    </tr>
                                                                {% endif %}
                                                            {% endfor %}

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!--Tab 2 ends here-->
                            <div class="tab-pane container fade" id="tab3">
                                <h3 class="mt-3 mb-2">Active Videos</h3>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                        <tr scrope="row">
                                            <th>Active Sessions</th>
                                            <th>Status</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for video in videos %}

                                            <tr scrope="row">
                                                {% if video.id is not 0 %}
                                                    <th>Sessions {{ video.id }}</th>
                                                {% else %}
                                                    <th>Welcome</th>
                                                {% endif %}
                                                <th>{% if video.id <= weekVideo %}Active{% else %}
                                                    Deactive {% endif %}</th>
                                            </tr>
                                        {% endfor %}

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!--Tab 3 ends here-->
                            <div class="tab-pane container fade" id="tab4">
                                <h3 class="mt-3 mb-2">Progress</h3>
                                <div id="responsivez2" class="your-progress tabcontent py-4" style="display:block;">
                                    <ul class="nav nav-pills nav-justified ">
                                        <li class=""><a href="#tab_a" data-toggle="pill">Daily</a></li>
                                        <li class=""><a href="#tab_b" data-toggle="pill">Weekly</a></li>
                                        <li class=""><a href="#tab_c" data-toggle="pill">Biweekly</a></li>
                                        <li class=""><a href="#tab_d" data-toggle="pill">Monthly</a></li>
                                    </ul>
                                    <div class="tab-content col-md-12">
                                        <div class="tab-pane active" id="tab_a">

                                            <h4 class="text-center"> Daily </h4>
                                            {#            <div id="monthly_patient" style="min-width: 100%; height: 400px; margin: 0 auto" data-highcharts-chart="1"><div class="highcharts-container" id="highcharts-1" style="position: relative; overflow: hidden; width: 970px; height: 400px; text-align: left; line-height: normal; z-index: 0; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><svg version="1.1" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif;font-size:12px;" xmlns="http://www.w3.org/2000/svg" width="970" height="400"><desc>Created with Highcharts 4.2.5</desc><defs><clipPath id="highcharts-2"><rect x="0" y="0" width="950" height="375"></rect></clipPath></defs><rect x="0" y="0" width="970" height="400" fill="transparent" class=" highcharts-background"></rect><g class="highcharts-series-group"></g><g class="highcharts-button" style="cursor:default;" stroke-linecap="round" transform="translate(936,10)"><title>Chart context menu</title><rect x="0.5" y="0.5" width="24" height="22" fill="white" stroke="none" stroke-width="1" rx="2" ry="2"></rect><path fill="#E0E0E0" d="M 6 6.5 L 20 6.5 M 6 11.5 L 20 11.5 M 6 16.5 L 20 16.5" stroke="#666" stroke-width="3"></path><text x="0" style="color:black;fill:black;" y="12"></text></g><g class="highcharts-legend"><g><g></g></g></g><g class="highcharts-tooltip" style="cursor:default;padding:0;pointer-events:none;white-space:nowrap;" transform="translate(0,-9999)"><path fill="none" d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5" isShadow="true" stroke="black" stroke-opacity="0.049999999999999996" stroke-width="5" transform="translate(1, 1)"></path><path fill="none" d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5" isShadow="true" stroke="black" stroke-opacity="0.09999999999999999" stroke-width="3" transform="translate(1, 1)"></path><path fill="none" d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5" isShadow="true" stroke="black" stroke-opacity="0.15" stroke-width="1" transform="translate(1, 1)"></path><path fill="rgba(249, 249, 249, .85)" d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5"></path><text x="8" style="font-size:12px;color:#333333;fill:#333333;" y="20"></text></g></svg></div></div>#}


                                            <div style="width: 100%" class="chart-container">
                                                <canvas id="myChart"
                                                        style="width: 100% !important;;height: 400px; !important;"></canvas>
                                                <input type="hidden" id="chart_labels" name="chart_labels"
                                                       value="{{ labels }}"/>
                                                <input type="hidden" id="chart_data" name="chart_data"
                                                       value="{{ default }}"/>
                                            </div>

                                            <table id="monthly_patient_data" style="display:none;">
                                                <thead>
                                                <tr>
                                                    <th>Date</th>

                                                    <th>% sleep</th>

                                                </tr>
                                                </thead>

                                                <tbody>

                                                </tbody>
                                            </table>
                                        </div><!--tab a end here-->
                                        <div class="tab-pane" id="tab_b">
                                            <h4 class="text-center">Weekly</h4>

                                            <div style="width: 100%" class="chart-container">
                                                <canvas id="myChart2"
                                                        style="width: 100%;height: 400px; display: block;"></canvas>
                                            </div>

                                            <table id="weekly_sleep_data" style="display:none;">
                                                <thead>
                                                <tr>
                                                    <th>Date</th>

                                                    <th>% sleep</th>

                                                </tr>
                                                </thead>

                                                <tbody>

                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="tab-pane" id="tab_c">
                                            <h4 class="text-center">Bi Weekly </h4>
                                            <div style="width: 100%" class="chart-container">
                                                <canvas id="myChart3"
                                                        style="width: 100%;height: 400px;display: block;"></canvas>
                                            </div>

                                            <table id="biweekly_sleep_data" style="display:none;">
                                                <thead>
                                                <tr>
                                                    <th>Date</th>

                                                    <th>% sleep</th>

                                                </tr>
                                                </thead>

                                                <tbody>

                                                </tbody>
                                            </table>
                                        </div>


                                        <div class="tab-pane" id="tab_d">
                                            <h4 class="text-center">Monthly</h4>


                                            <div style="width: 100%" class="chart-container">
                                                <canvas id="myChart4"
                                                        style="width: 100%;height: 400px;display: block;"></canvas>
                                            </div>
                                            <table id="quarterly_sleep_data" style="display:none;">
                                                <thead>
                                                <tr>
                                                    <th>Date</th>

                                                    <th>% sleep</th>

                                                </tr>
                                                </thead>

                                                <tbody>

                                                </tbody>
                                            </table>
                                        </div><!--tab-e end here-->


                                    </div>
                                </div>

                            </div>
                            <!--Tab 4 ends here-->

                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>


{% endblock %}

{% block javascript %}
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>

    <script>
        $(document).ready(function () {
            $(".getWeekData").click(function () {

                var weekID = $(this).data('week');
                $(".activeWeek").removeClass("activeWeek");
                $(this).parent().addClass('activeWeek');
                {% if patient > 0 %}
                    const endpoint = '{{base_url}}/dashboard/api/view-diary/' + weekID + "/" + "{{patient}}/";
                {% else %}
                    const endpoint = '{{base_url}}/dashboard/api/view-diary/' + weekID + "/0/";
                {% endif %}

                $.ajax({
                    method: 'POST',
                    data: {'weekNm': 1, 'admin_request_id':{{user_details.current_user_id}}},
                    url: endpoint,
                    success: function (response_data) {
                        var response_data = response_data;
                        var htmlDays = "";
                        if (response_data.success) {

                            var weekData = JSON.parse(response_data.week_data);
                            for (var i = 0; i < weekData.length; i++) {
                                htmlDays += "<tr>";
                                htmlDays += "<td>Day " + (i + 1) + "</td>";
                                htmlDays += "<td>" + ((typeof weekData[i].fields.time_went_to_bed === 'undefined' || weekData[i].fields.time_went_to_bed == null) ? " " : weekData[i].fields.date) + "</td>";
                                htmlDays += "<td>" + isNullOrWhitespace(weekData[i].fields.time_went_to_bed) + "</td>";
                                htmlDays += "<td>" + isNullOrWhitespace(weekData[i].fields.time_fell_asleep) + "</td>";
                                htmlDays += "<td>" + isNullOrWhitespace(weekData[i].fields.time_got_up) + "</td>";
                                htmlDays += "<td>" + isNullOrWhitespace(weekData[i].fields.no_of_times_awakend) + "</td>";
                                htmlDays += "<td>" + isNullOrWhitespace(weekData[i].fields.total_time_awakened) + "</td>";
                                htmlDays += "</tr>";
                            }
                            $(".viewsleepdiary .table tbody").html(htmlDays);
                        } else {
                            alert("Something Wrong!")
                        }
                    }
                });
            });

            function isNullOrWhitespace(input) {

                if (typeof input === 'undefined' || input == null) return "";

                return input;
            }

            {#    Progress #}

            $(function () {
                $('a.show-option').click(function (evt) {
                    evt.preventDefault();
                    $(this).siblings('.options').slideToggle();
                });
            });


            var dataLabels = [];
            var defaultData = [];

            var dataLabels_wkeekly = [];
            var defaultData_wkeekly = [];

            var dataLabels_biwkeekly = [];
            var defaultData_biwkeekly = [];

            var dataLabels_monthly = [];
            var defaultData_monthly = [];

            // setChart();
            const endpoint = "/patient/api/chart/data/"+{{user_details.current_user_id}}+
            '/';


            $.ajax({
                method: 'GET',
                url: endpoint,
                data: {"admin_request": 1},
                success: function (response_data) {

                    if (response_data.success == "true") {
                        dataLabels = response_data.labels;
                        defaultData = response_data.default;

                        dataLabels_wkeekly = response_data.labels_weekly;
                        defaultData_wkeekly = response_data.default_items_weekly;

                        dataLabels_biwkeekly = response_data.labels_biweekly;
                        defaultData_biwkeekly = response_data.default_items_biweekly;

                        dataLabels_monthly = response_data.labels_monthly;
                        defaultData_monthly = response_data.default_items_monthly;

                        setChart()
                    }

                }
            })
            ;


            function setChart() {
                var ctx = document.getElementById('myChart').getContext('2d');
                var ctx2 = document.getElementById('myChart2').getContext('2d');
                var ctx3 = document.getElementById('myChart3').getContext('2d');
                var ctx4 = document.getElementById('myChart4').getContext('2d');

                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: dataLabels,
                        datasets: [{
                            label: '# Your Daily Progress  (Bar Chart)',
                            data: defaultData
                            ,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(54, 162, 235, 1)',
                            ],
                            borderWidth: 1
                        }
                            , {
                                label: '#Your Daily Progress (Line Chart)',
                                data: defaultData
                                ,
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(255, 159, 64, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)',
                                    'rgba(54, 162, 235, 1)',
                                ],
                                borderWidth: 1,
                                type: 'line'
                            }
                        ]
                    }, options: {
                        xAxes: [{
                            type: 'hour',
                            time: {
                                displayFormats: {
                                    quarter: 'hA'
                                }
                            }
                        }],
                        xyAxes: [{
                            type: 'day',
                            time: {
                                displayFormats: {
                                    quarter: 'MMM D'
                                }
                            }
                        }],
                        animation: {
                            onProgress: function (animation) {
                                progress.value = animation.animationObject.currentStep / animation.animationObject.numSteps;
                            }
                        },
                        legend: {
                            display: true,
                            labels: {
                                fontColor: 'rgb(255, 99, 132)'
                            }
                        }
                    }
                });

                var myChart2 = new Chart(ctx2, {
                    type: 'bar',
                    data: {
                        labels: dataLabels_wkeekly,
                        datasets: [{
                            label: '# Your Weekly Progress  (Bar Chart)',
                            data: defaultData_wkeekly
                            ,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        },
                            {
                                label: '# Your Weekly Progress (Line Chart)',
                                data: defaultData_wkeekly
                                ,
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(255, 159, 64, 0.2)'
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)'
                                ],
                                borderWidth: 1,
                                type: "line"
                            }
                        ]
                    }, options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });


                var myChart = new Chart(ctx3, {
                    type: 'bar',
                    data: {
                        labels: dataLabels_biwkeekly,
                        datasets: [{
                            label: '# Your BiWeelly Progress  (Bar Chart)',
                            data: defaultData_biwkeekly
                            ,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }, {
                            label: '# Your BiWeelly Progress (Line Chart)',
                            data: defaultData_biwkeekly
                            ,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1,
                            type: "line"
                        }]
                    }, options: {
                        xAxes: [{
                            type: 'hour',
                            time: {
                                displayFormats: {
                                    quarter: 'hA'
                                }
                            }
                        }],
                        xyAxes: [{
                            type: 'day',
                            time: {
                                displayFormats: {
                                    quarter: 'MMM D'
                                }
                            }
                        }],
                        animation: {
                            onProgress: function (animation) {
                                progress.value = animation.animationObject.currentStep / animation.animationObject.numSteps;
                            }
                        },
                        legend: {
                            display: true,
                            labels: {
                                fontColor: 'rgb(255, 99, 132)'
                            }
                        }
                    }
                });


                var myChart4 = new Chart(ctx4, {
                    type: 'bar',
                    data: {
                        labels: dataLabels_monthly,
                        datasets: [{
                            label: '# Your Monthly Progress  (Bar Chart)',
                            data: defaultData_monthly
                            ,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }, {
                            label: '# Your Monthly Progress (Line Chart)',
                            data: defaultData_monthly
                            ,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1,
                            type: "line"
                        }]
                    }, options: {
                        xAxes: [{
                            type: 'hour',
                            time: {
                                displayFormats: {
                                    quarter: 'hA'
                                }
                            }
                        }],
                        xyAxes: [{
                            type: 'day',
                            time: {
                                displayFormats: {
                                    quarter: 'MMM D'
                                }
                            }
                        }],
                        animation: {
                            onProgress: function (animation) {
                                progress.value = animation.animationObject.currentStep / animation.animationObject.numSteps;
                            }
                        },
                        legend: {
                            display: true,
                            labels: {
                                fontColor: 'rgb(255, 99, 132)'
                            }
                        }
                    }
                });
                console.log(data);

            }


            function goBack() {
                window.history.back();
            }

            function radioSubmit() {
                $("#next").trigger("click");
            }


        });


    </script>


{% endblock %}

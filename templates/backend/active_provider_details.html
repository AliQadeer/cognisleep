{% extends "backend/base.html" %}
{% load static %}
{% load crispy_forms_tags %}


{% block content %}
      <div class="content-wrap">
        <div class="main">
            <div class="container-fluid">

                <div class="row">
                    <div class="col-lg-8 p-r-0 title-margin-right">
                        <div class="page-header">
                             <button  style=" margin-top: -2px; margin-bottom: 10px !important;" type="button" class="btn btn-primary mb-2 backbtn" onclick="javascript:history.back()" id="btn_search"><i class="fa fa-angle-left"
                                        aria-hidden="true"></i>Back</button>
                            <div class="page-title" style="margin-top: -15px;">

                                <h1>Current Active Provider Full Details</h1>

                            </div>
                        </div>
                    </div>
                    <!-- /# column -->

                    <!-- /# column -->
                </div>
                <!-- /# row -->
                <div class="dashboard-wrapper">
                    <div id="w0" class="grid-view">
                        <ul class="nav nav-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tab1">Provider Profile</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab2">Patient List</a>
                            </li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div class="tab-pane container active" id="tab1">
                                <div class="container xs-w-100" style="width:70%;">
                                    <form class="form-horizontal" role="form" method="post" action="backend/active_provider_details/{{ user_details.id  }}">
                                        {% csrf_token %}
                                      {% if messages %}
                                {% for message in messages %}
                                    <div style="color:white;font-width: bold;" class="alert alert-{{ message.tags }}">{{ message }}</div>
                                {% endfor %}
                            {% endif %}
                                        <div class="row">
                                            <!-- edit form column -->
                                            <div class="col-md-12 personal-info pt-3 pb-3 xs-plr-0">

                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">First name:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" type="text" value="{{user_details.first_name}}" name="fname" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Last name:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" type="text" value="{{user_details.last_name}}" name="lname" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Email:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" type="text" value="{{user_details.email}}" name="emails" readonly="">
                                                    </div>
                                                </div>

                                               {% comment %} <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Username:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" type="text" value="{{user_details.username}}" style="" name="username" readonly="">
                                                    </div>
                                                </div>{% endcomment %}
                                                {% comment %}<div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Provider License:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" type="text" value="" style="" name="" readonly="">
                                                    </div>
                                                </div>{% endcomment %}
                                                 {% if messages %}
                                                    {% for message in messages %}
                                                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                                                    {% endfor %}
                                                {% endif %}

                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Password:</label>
                                                    <div class="col-sm-8">
                                                        <div class="password-container">
                                                            <div class="input-group show_hide_password">
                                                                <input class="form-control" type="password" value="{{user_details.passwordstr}}" id="password" name="password">
                                                                <div class="input-group-addon">
                                                                    <a href=""><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Confirm password:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="confirm_password" id="confirm_password" type="password" value="{{user_details.passwordstr}}">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Phone:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="contact" type="text" value="{{user_details.contact_no}}" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Type of Practice:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="contact" type="text" value="{{user_details.type_of_practice}}" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Facility Name:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="contact" type="text" value="{{user_details.practice_name}}" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Facility Number:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="contact" type="text" value="{{user_details.practice_phone_number}}" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Facility Address:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="contact" type="text" value="{{user_details.practice_address}}" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label">Fax:</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" name="contact" type="text" value="{{user_details.fax_no}}" readonly="">
                                                    </div>
                                                </div>
                                                <div class="form-group d-flex xs-d-block justify-content-center align-items-center">
                                                    <label class="col-sm-3 control-label"></label>
                                                    <div class="col-sm-8">
                                                        <input type="submit" class="btn btn-primary" value="Update" name="edit_user">
                                                        <span></span>
                                                        <input type="reset" class="btn btn-default" value="Cancel">
                                                    </div>
                                                </div>

                                            </div>

                                        </div>
                                    </form>


                                </div>
                            </div>
                            <!--Tab 1 ends here-->
                            <div class="tab-pane container fade" id="tab2">
                                <div class="container">
                                    <h3 class="mt-3 mb-2">Patients List </h3>
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered" id="table_rows">
                                            <thead>
                                                <tr>
                                                    <th scope="col">First Name</th>
                                                    <th scope="col">Last Name</th>
                                                    <th scope="col">Email</th>
                                                    <th scope="col">Contact No</th>
{#                                                    <th scope="col">Action</th>#}
                                                </tr>
                                            </thead>
                                            <tbody>
                                      {% for patient in ref_patent %}
                                                <tr>
                                                    <td scope="col">{{ patient.first_name }}</td>
                                                    <td scope="col">{{ patient.last_name }}</td>
                                                    <td scope="col">{{ patient.user.email }}</td>
                                                    <td scope="col">{{ patient.contact_no }}</td>
{#                                                    <td scope="col">#}
                                                         {% comment %}  <td><a href="cogni_patient_report.php?email=cognistone1@yopmail.com" title="View"
                                   aria-label="View" data-pjax="0"><i class="fa fa-file" aria-hidden="true"></i></a>
                            </td>{% endcomment %}
{#                            <a class="viewPatient" href="/backend/patient_detail/{{ patient.user_id }}"#}
{#                                   title="View" aria-label="View" data-pjax="0"><i class="fa fa-eye"#}
{#                                                                                   aria-hidden="true"></i></a></td>#}
{#                            <td><a id="cognistone1@yopmail.com" onclick="loadModel({{ current_user.patient_user_id }});"#}
{#                                   title="Delete"#}
{#                                   aria-label="Delete" data-pjax="0"#}
{#                                   data-confirm="Are you sure you want to delete this item?" data-method="post"><i#}
{#                                    class="fa fa-trash" aria-hidden="true"></i></a></td>#}

{#                                                    </td>#}
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>


{% endblock %}

{% block javascript %}

<script>
                                $(document).ready(function () {
                                    Highcharts.chart('progresscharts', {

                                        title: {
                                            text: 'Progress Chart'
                                        },

                                        xAxis: {
                                            tickInterval: 1,
                                            type: 'logarithmic'
                                        },

                                        yAxis: {
                                            type: 'logarithmic',
                                            minorTickInterval: 0.1
                                        },

                                        tooltip: {
                                            headerFormat: '<b>{series.name}</b><br />',
                                            pointFormat: 'Some data = {point.x}, Some data = {point.y}'
                                        },

                                        series: [{
                                            data: $("#prog_dta").val(),
                                            pointStart: 1
                                        }]
                                    });
                                })
                            </script>


{% endblock %}
